<form [formGroup]="emailForm" (ngSubmit)="inviaEmail()" class="grid">
    <div class="col-12 md:col-4">
        <p-inputGroup>
            <p-inputGroupAddon>
                <i class="pi pi-envelope"></i>
            </p-inputGroupAddon>
            <input
                pInputText
                placeholder="Destinatario"
                formControlName="destinatario"
                class="form-control"
            />
        </p-inputGroup>
        <!-- Mostra gli errori solo se il campo Ã¨ stato toccato e non Ã¨ valido -->
        <div
            *ngIf="
                emailForm.get('destinatario').invalid &&
                emailForm.get('destinatario').touched
            "
        >
            <small
                id="receiver-help"
                *ngIf="
                    emailForm.get('destinatario').errors.email ||
                    emailForm.get('destinatario').errors.required
                "
                class="text-red-500"
                >Inserisci una mail valida</small
            >
        </div>
    </div>

    <div class="col-12 md:col-4">
        <p-inputGroup>
            <p-inputGroupAddon>
                <i class="cc-icon"></i>
            </p-inputGroupAddon>
            <input
                pInputText
                placeholder="CC"
                formControlName="cc"
                class="form-control"
            />
        </p-inputGroup>
        <div *ngIf="emailForm.get('cc').invalid && emailForm.get('cc').touched">
            <small
                id="cc-help"
                *ngIf="emailForm.get('cc').errors.email"
                class="text-red-500"
                >Inserisci una mail valida</small
            >
        </div>
    </div>

    <div class="col-12 md:col-4">
        <p-inputGroup>
            <p-inputGroupAddon>
                <i class="text-icon"></i>
            </p-inputGroupAddon>
            <input
                pInputText
                placeholder="Oggetto"
                formControlName="oggetto"
                class="form-control"
            />
        </p-inputGroup>
    </div>

    <div class="col-12 md:col-12">
        <p-editor
            [style]="{ height: '320px' }"
            class="custom.editor"
            placeholder="Testo email"
            name="editor"
            formControlName="text"
        >
        </p-editor>
    </div>

    <div class="col-12">
        <p-button
            type="submit"
            [disabled]="!emailForm.valid"
            label="Invia"
        ></p-button>
    </div>
</form>
